<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booker - Complete Test Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007acc;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007acc;
            margin: 0;
            font-size: 2.5em;
        }
        .header h2 {
            color: #666;
            margin: 10px 0 0 0;
        }
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .summary-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid #28a745;
        }
        .summary-card.failed {
            border-left-color: #dc3545;
        }
        .summary-card h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .summary-card .number {
            font-size: 2em;
            font-weight: bold;
            color: #28a745;
        }
        .summary-card.failed .number {
            color: #dc3545;
        }
        .modules {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .module-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #007acc;
        }
        .module-section h3 {
            color: #007acc;
            margin: 0 0 20px 0;
            font-size: 1.5em;
        }
        .test-item {
            background: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .test-item h4 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .test-item .status {
            color: #28a745;
            font-weight: bold;
        }
        .test-item .time {
            color: #666;
            font-size: 0.9em;
        }
        .test-item .description {
            color: #555;
            font-size: 0.9em;
            margin-top: 5px;
            font-style: italic;
        }
        .coverage-info {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            border-left: 4px solid #28a745;
        }
        .coverage-info h4 {
            color: #28a745;
            margin: 0 0 15px 0;
        }
        .coverage-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .coverage-item {
            background: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
        .coverage-item .percentage {
            font-size: 1.5em;
            font-weight: bold;
            color: #28a745;
        }
        .timestamp {
            text-align: center;
            color: #666;
            margin-top: 30px;
            font-size: 0.9em;
        }
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007acc;
        }
        .toc h3 {
            color: #007acc;
            margin: 0 0 15px 0;
        }
        .toc ul {
            margin: 0;
            padding-left: 20px;
        }
        .toc li {
            margin: 5px 0;
        }
        .toc a {
            color: #007acc;
            text-decoration: none;
        }
        .toc a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Booker - Complete Test Report</h1>
            <h2>Users Module - Registration & Login</h2>
        </div>

        <div class="toc">
            <h3>üìã Table of Contents</h3>
            <ul>
                <li><a href="#summary">üìä Test Summary</a></li>
                <li><a href="#registration">üìù Registration Tests</a></li>
                <li><a href="#login">üîê Login Tests</a></li>
                <li><a href="#coverage">üìà Code Coverage</a></li>
            </ul>
        </div>

        <div id="summary" class="summary">
            <div class="summary-card">
                <h3>Total Tests</h3>
                <div class="number">11</div>
            </div>
            <div class="summary-card">
                <h3>Passed</h3>
                <div class="number">11</div>
            </div>
            <div class="summary-card ">
                <h3>Failed</h3>
                <div class="number">0</div>
            </div>
            <div class="summary-card">
                <h3>Success Rate</h3>
                <div class="number">100%</div>
            </div>
        </div>

        <div class="modules">
            <div id="registration" class="module-section">
                <h3>üìù Registration Tests (5 tests)</h3>
                
                <div class="test-item">
                    <h4>AUTO-001: should create a new user successfully</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~139ms</div>
                    <div class="description">Tests successful user registration with valid data and verifies all user information is saved correctly.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-002: should reject duplicate email</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~88ms</div>
                    <div class="description">Validates that duplicate email addresses are properly rejected with 409 status code.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-003: should reject incomplete data</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~8ms</div>
                    <div class="description">Ensures incomplete registration data is handled with proper validation messages.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-004: should reject invalid email format</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~7ms</div>
                    <div class="description">Checks email format validation for registration.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-005: should reject mismatched passwords</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~6ms</div>
                    <div class="description">Validates password confirmation matching during registration.</div>
                </div>
                
            </div>

            <div id="login" class="module-section">
                <h3>üîê Login Tests (6 tests)</h3>
                
                <div class="test-item">
                    <h4>AUTO-006: should login user successfully with valid credentials</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~216ms</div>
                    <div class="description">Tests successful user authentication with valid credentials and verifies all user data is returned correctly.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-007: should reject login with incorrect password</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~156ms</div>
                    <div class="description">Validates that incorrect passwords are properly rejected with 401 status code.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-008: should reject login with non-existent user</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~8ms</div>
                    <div class="description">Ensures non-existent users are handled with 401 status code and generic error message for security.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-009: should reject login with missing email</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~8ms</div>
                    <div class="description">Checks validation for missing email field during login.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-010: should reject login with missing password</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~6ms</div>
                    <div class="description">Checks validation for missing password field during login.</div>
                </div>
                
                <div class="test-item">
                    <h4>AUTO-011: should reject login with invalid email format</h4>
                    <div class="status">‚úÖ PASSED</div>
                    <div class="time">Execution time: ~7ms</div>
                    <div class="description">Validates email format validation during login.</div>
                </div>
                
            </div>
        </div>

        <div id="coverage" class="coverage-info">
            <h4>üìà Code Coverage Analysis</h4>
            <div class="coverage-grid">
                <div class="coverage-item">
                    <div class="percentage">95.31%</div>
                    <div>Overall Statements</div>
                </div>
                <div class="coverage-item">
                    <div class="percentage">93.1%</div>
                    <div>Controllers</div>
                </div>
                <div class="coverage-item">
                    <div class="percentage">100%</div>
                    <div>Services</div>
                </div>
                <div class="coverage-item">
                    <div class="percentage">82.05%</div>
                    <div>Middlewares</div>
                </div>
            </div>
            <p style="margin-top: 15px; color: #555;">
                <strong>Coverage Details:</strong> The automated tests provide comprehensive coverage of the Users module, 
                including registration validation, login authentication, error handling, and security measures. 
                All critical user flows are tested with both positive and negative scenarios.
            </p>
        </div>

        <div class="timestamp">
            <p>Report generated: <span id="timestamp"></span></p>
            <p>Total execution time: ~5.2 seconds</p>
            <p>Test environment: Node.js with Jest and Supertest</p>
        </div>
    </div>

    <script>
        // Set current timestamp
        document.getElementById('timestamp').textContent = new Date().toLocaleString('es-ES');
        
        // Smooth scrolling for TOC links
        document.querySelectorAll('.toc a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>